---
title: rules-of-hooks
---

**Full Name in `@eslint-react/eslint-plugin@beta`**

```plain copy
@eslint-react/rules-of-hooks
```

**Full Name in `eslint-plugin-react-x@beta`**

```plain copy
react-x/rules-of-hooks
```

**Presets**

`x`
`recommended`
`recommended-typescript`
`recommended-type-checked`
`strict`
`strict-typescript`
`strict-type-checked`

## Description

Enforces the [Rules of Hooks](https://react.dev/reference/rules/rules-of-react#rules-of-hooks).

React Hooks must be called at the top level of a React function component or a custom Hook. They must not be called inside conditions, loops, nested functions, after early returns, in async functions, in class components, or at module level.

The special `use()` hook is an exception â€” it is allowed inside conditionals and loops, but not inside try/catch blocks.

## Examples

### Passing

```tsx
import { useState, useEffect } from "react";

function MyComponent() {
  const [count, setCount] = useState(0);
  useEffect(() => {
    console.log(count);
  }, [count]);
  return <div>{count}</div>;
}
```

### Passing

```tsx
import { useState } from "react";

function useCustomHook() {
  const [value, setValue] = useState("");
  return [value, setValue] as const;
}
```

### Passing

```tsx
import { use } from "react";

function MyComponent({ shouldFetch, promise }) {
  if (shouldFetch) {
    const data = use(promise);
    return <div>{data}</div>;
  }
  return <div>No data</div>;
}
```

### Failing

```tsx
import { useState } from "react";

function MyComponent({ condition }) {
  // ðŸ”´ React Hook 'useState' is called conditionally.
  if (condition) {
    const [value, setValue] = useState("");
  }
  return null;
}
```

### Failing

```tsx
import { useEffect } from "react";

function MyComponent({ items }) {
  // ðŸ”´ React Hook 'useEffect' may be executed more than once.
  for (const item of items) {
    useEffect(() => {
      console.log(item);
    }, [item]);
  }
  return null;
}
```

### Failing

```tsx
import { useState, useEffect } from "react";

function MyComponent({ condition }) {
  if (condition) {
    return null;
  }
  // ðŸ”´ React Hook 'useState' is called after an early return.
  const [value, setValue] = useState("");
  return <div>{value}</div>;
}
```

### Failing

```tsx
import { useState } from "react";

function MyComponent() {
  const handleClick = () => {
    // ðŸ”´ React Hook 'useState' is called in a nested function.
    const [value, setValue] = useState("");
  };
  return <button onClick={handleClick}>Click</button>;
}
```

### Failing

```tsx
import { useState } from "react";

// ðŸ”´ React Hook 'useState' is called in an async function.
async function useAsyncHook() {
  const [value, setValue] = useState("");
  return value;
}
```

### Failing

```tsx
import { useState } from "react";

class MyComponent {
  render() {
    // ðŸ”´ React Hook 'useState' cannot be called in a class component.
    const [value, setValue] = useState("");
    return null;
  }
}
```

### Failing

```tsx
import { useState } from "react";

// ðŸ”´ React Hook 'useState' cannot be called at the top level.
const [value, setValue] = useState("");
```

### Failing

```tsx
import { use } from "react";

function MyComponent({ promise }) {
  try {
    // ðŸ”´ React Hook 'use' cannot be called inside a try/catch block.
    const data = use(promise);
    return <div>{data}</div>;
  } catch (e) {
    return <div>Error</div>;
  }
}
```

## Implementation

- [Rule Source](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x/src/rules/rules-of-hooks.ts)
- [Test Source](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x/src/rules/rules-of-hooks.spec.ts)

## Further Reading

- [React Docs: Rules of Hooks](https://react.dev/reference/rules/rules-of-react#rules-of-hooks)
- [React Docs: `use` Hook](https://react.dev/reference/react/use)
