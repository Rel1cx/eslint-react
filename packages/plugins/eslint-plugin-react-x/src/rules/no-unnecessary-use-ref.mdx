---
title: no-unnecessary-use-ref
---

<Callout type="warning">This rule is experimental and may change in the future or be removed. It is not recommended for use in production code at this time.</Callout>

**Full Name in `@eslint-react/eslint-plugin`**

```plain copy
@eslint-react/no-unnecessary-use-ref
```

**Full Name in `eslint-plugin-react-x`**

```plain copy
react-x/no-unnecessary-use-ref
```

**Features**

`ðŸ§ª`

## Description

Disallows unnecessary usage of `useRef`.

If a ref holds a value that is used only within a single effect, `useRef` is unnecessary. Instead, co-locate the value inside the effect that uses it.

## Examples

### Failing

```tsx
import React, { useEffect, useRef } from "react";

function MyComponent() {
  const ref = useRef<number | null>(null);
  //    ðŸŸ¡ Avoid: Unnecessary use of `useRef`. Instead, co-locate the value inside the effect that uses it.

  useEffect(() => {
    ref.current = requestAnimationFrame(() => {});
    return () => {
      if (ref.current != null) {
        cancelAnimationFrame(ref.current);
      }
    };
  }, []);
}
```

### Passing

```tsx
import React, { useEffect } from "react";

function MyComponent() {
  useEffect(() => {
    let ref: number | null = requestAnimationFrame(() => {});
    //  âœ… Good: Using a local variable to co-locate the value inside the effect that uses it.
    return () => {
      if (ref != null) {
        cancelAnimationFrame(ref);
      }
    };
  }, []);
}
```

```tsx
import React, { useEffect, useRef } from "react";

function MyComponent() {
  // âœ… It is appropriate to use `useRef` here because the ref is used outside the effect as well.
  const inputRef = useRef<HTMLInputElement | null>(null);
  useEffect(() => {
    if (inputRef.current != null) {
      inputRef.current.focus();
    }
  }, []);
  return <input ref={inputRef} />;
}
```

```tsx
import React, { useRef } from "react";

function MyComponent() {
  // âœ… This ref can be used for other purposes, and if not, the no-unused-vars rule will catch it.
  const ref = useRef<number | null>(null);

  // ...
}
```

## Implementation

- [Rule Source](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x/src/rules/no-unnecessary-use-ref.ts)
- [Test Source](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x/src/rules/no-unnecessary-use-ref.spec.ts)

---

## See Also

- [`no-unnecessary-use-callback`](./no-unnecessary-use-callback)\
  Disallows unnecessary usage of `useCallback`.
- [`no-unnecessary-use-memo`](./no-unnecessary-use-memo)\
  Disallows unnecessary usage of `useMemo`.
